{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import\"../css/form.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Form=()=>{const[textInputs,setTextInputs]=useState(Array(10).fill(\"\"));const[imageURLs,setImageURLs]=useState([]);const handleInputChange=(e,index)=>{const newInputs=[...textInputs];newInputs[index]=e.target.value;setTextInputs(newInputs);};const blobToDataURL=blob=>{return new Promise((resolve,reject)=>{const reader=new FileReader();reader.onloadend=()=>resolve(reader.result);reader.onerror=reject;reader.readAsDataURL(blob);});};const fetchComicImage=async(data,index)=>{try{const response=await axios.post(\"https://xdwvg9no7pefghrn.us-east-1.aws.endpoints.huggingface.cloud\",data,{headers:{Accept:\"image/png\",Authorization:\"Bearer VknySbLLTUjbxXAXCjyfaFIPwUTCeRXbFSOjwRiCxsxFyhbnGjSFalPKrpvvDAaPVzWEevPljilLVDBiTzfIbWFdxOkYJxnOPoHhkkVGzAknaOulWggusSFewzpqsNWM\",\"Content-Type\":\"application/json\"},responseType:\"blob\"});const imageUrl=await blobToDataURL(response.data);// Update the imageURLs array with the fetched image URL\nsetImageURLs(prevURLs=>{const newURLs=[...prevURLs];newURLs[index]=imageUrl;return newURLs;});}catch(error){console.error(\"Error fetching comic image:\",error);}};const handleSubmit=async e=>{e.preventDefault();// Fetch comic images for each input\nawait Promise.all(textInputs.map(async(input,index)=>{var data={inputs:input};await fetchComicImage(data,index);}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"comic-form\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-box\",children:textInputs.map((input,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"textInput\".concat(index+1),children:\"Text for Panel \".concat(index+1,\":\")}),/*#__PURE__*/_jsx(\"textarea\",{id:\"textInput\".concat(index+1),value:input,onChange:e=>handleInputChange(e,index),rows:\"2\"//   required\n})]},index))}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Generate Comic\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"image-grid\",children:imageURLs.map((imageUrl,index)=>/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:\"Comic Panel \".concat(index+1)},index))})]});};export default Form;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Form","textInputs","setTextInputs","Array","fill","imageURLs","setImageURLs","handleInputChange","e","index","newInputs","target","value","blobToDataURL","blob","Promise","resolve","reject","reader","FileReader","onloadend","result","onerror","readAsDataURL","fetchComicImage","data","response","post","headers","Accept","Authorization","responseType","imageUrl","prevURLs","newURLs","error","console","handleSubmit","preventDefault","all","map","input","inputs","className","children","onSubmit","htmlFor","concat","id","onChange","rows","type","src","alt"],"sources":["C:/Users/shrey/OneDrive/Documents/comic-app/src/Components/Form.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../css/form.css\";\r\n\r\nconst Form = () => {\r\n  const [textInputs, setTextInputs] = useState(Array(10).fill(\"\"));\r\n  const [imageURLs, setImageURLs] = useState([]);\r\n\r\n  const handleInputChange = (e, index) => {\r\n    const newInputs = [...textInputs];\r\n    newInputs[index] = e.target.value;\r\n    setTextInputs(newInputs);\r\n  };\r\n\r\n  const blobToDataURL = (blob) => {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => resolve(reader.result);\r\n      reader.onerror = reject;\r\n      reader.readAsDataURL(blob);\r\n    });\r\n  };\r\n\r\n  const fetchComicImage = async (data, index) => {\r\n    try {\r\n      const response = await axios.post(\r\n        \"https://xdwvg9no7pefghrn.us-east-1.aws.endpoints.huggingface.cloud\",\r\n        data,\r\n        {\r\n          headers: {\r\n            Accept: \"image/png\",\r\n            Authorization:\r\n              \"Bearer VknySbLLTUjbxXAXCjyfaFIPwUTCeRXbFSOjwRiCxsxFyhbnGjSFalPKrpvvDAaPVzWEevPljilLVDBiTzfIbWFdxOkYJxnOPoHhkkVGzAknaOulWggusSFewzpqsNWM\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          responseType: \"blob\",\r\n        }\r\n      );\r\n\r\n      const imageUrl = await blobToDataURL(response.data);\r\n\r\n      // Update the imageURLs array with the fetched image URL\r\n      setImageURLs((prevURLs) => {\r\n        const newURLs = [...prevURLs];\r\n        newURLs[index] = imageUrl;\r\n        return newURLs;\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error fetching comic image:\", error);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Fetch comic images for each input\r\n    await Promise.all(\r\n      textInputs.map(async (input, index) => {\r\n        var data = {\r\n          inputs: input,\r\n        };\r\n        await fetchComicImage(data, index);\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"comic-form\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"text-box\">\r\n          {textInputs.map((input, index) => (\r\n            <div key={index}>\r\n              <label htmlFor={`textInput${index + 1}`}>{`Text for Panel ${\r\n                index + 1\r\n              }:`}</label>\r\n              <textarea\r\n                id={`textInput${index + 1}`}\r\n                value={input}\r\n                onChange={(e) => handleInputChange(e, index)}\r\n                rows=\"2\"\r\n                //   required\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <button type=\"submit\">Generate Comic</button>\r\n      </form>\r\n\r\n      {/* Display fetched images in a grid */}\r\n      <div className=\"image-grid\">\r\n        {imageURLs.map((imageUrl, index) => (\r\n          <img key={index} src={imageUrl} alt={`Comic Panel ${index + 1}`} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}